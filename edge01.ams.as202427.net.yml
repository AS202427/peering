peeringdb-api-key: ${edge01-ams-peeringdb-api-key}
log-file: /var/log/bird.log
local-communities:
  - "202427:101:1"
  - "202427:105:7"
add-on-import:
  - "202427:102:528"
  - "202427:103:7"
add-on-export:
  - "202427:104:7"
asn: 202427
prefixes:
  - 2a06:a005:28e0::/48 # AS202427-BACKBONE-NETWORK
  - 2a06:a005:28e7::/48 # AS202427-BACKBONE-NETWORK
  - 2a0a:6040:2740::/43 # NL-AS202427
  - 2a0a:6040:27e0::/43 # EU-AS202427
 #- 2a07:54c2:b00b::/48 # ::/b00b collective
router-id: 193.148.248.163
irr-server: 128.241.192.40 # rr.ntt.net
source6: 2a06:a005:28e7::1
default-route: false
blackhole-bogon-asns: true

peers:
  # ========= Upstreams =========
  iFog:
    template: upstream
    description: iFog Upstream
    asn: 34927
    neighbors:
      - 2a0c:9a40:1072::1
    local-pref: 120
    listen6: 2a0c:9a40:1072::419
    as-set: RIPE::AS-IFOG

  Hurricane Electric Frys-IX:
    template: upstream
    description: Hurricane Electric LLC Upstream via Frys-IX
    asn: 6939
    neighbors:
      - 2001:7f8:10f::1b1b:154
    local-pref: 130
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RADB::AS-HURRICANEV6

  # ========= Looking Glasses =========
  pmacctd:
    template: lg
    description: pmacctd
    asn: 202427
    listen6: 127.0.0.1
    neighbors:
      - 127.0.0.2
    neighbor-port: 180

  qrator:
    template: lg
    description: Radar by Qrator
    asn: 197068
    neighbors:
      - 178.248.237.29
    multihop: true
    listen4: 193.148.248.163
    password: qrator

  bgpTools:
    template: lg
    description: BGP.Tools Route Collector
    asn: 212232
    neighbors:
      - 185.230.223.55
    multihop: true
    listen4: 193.148.248.163

#  HE Realtime:
#    template: lg
#    description: Hurricane Electric Route Collector
#    disabled: false
#    asn: 393338
#    neighbors:
#      - 2001:470:0:441::40
#    multihop: true
#    listen6: 2a0c:9a40:1072::419

  # ========= Internal =========
  Core01 NUE:
    template: core-wg
    description: Core01 Router - Nuremberg, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2ef1::1
    listen6: 2a06:a005:2ef7::1

  Edge01 FRA:
    template: core-l2
    description: Edge01 Router - Frankfurt, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2902::1
    listen6: 2a06:a005:2907::1

  Edge01 ZHR:
    template: core-wg
    description: Edge01 Router - Zurich, Switzerland
    asn: 202427
    neighbors:
      - 2a06:a005:2ef3::1
    listen6: 2a06:a005:2ef7::1

  Edge02 ZHR:
    template: core-l2
    description: Edge02 Router - Zurich, Switzerland
    asn: 202427
    neighbors:
      - 2a06:a005:2904::1
    listen6: 2a06:a005:2907::1

  Edge01 MIL:
    template: core-wg
    description: Edge01 Router - Milan, Italy
    asn: 202427
    neighbors:
      - 2a06:a005:2ef5::1
    listen6: 2a06:a005:2ef7::1

  Edge01 DUS:
    template: core-wg
    description: Edge01 Router - Dusseldorf, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2ef6::1
    listen6: 2a06:a005:2ef7::1

#  Edge01 OSL:
#    template: core-wg
#    description: Edge01 Router - Oslo, Norway
#    disabled: true
#    asn: 202427
#    neighbors:
#      - 2a06:a005:2ef8::1
#    listen6: 2a06:a005:2ef7::1

  Edge01 YVR:
    template: core-wg
    description: Edge01 Router - Vancouver, Canada
    asn: 202427
    neighbors:
      - 2a06:a005:2ef9::1
    listen6: 2a06:a005:2ef7::1

  Edge01 YTO:
    template: core-wg
    description: Edge01 Router - Toronto, Canada
    asn: 202427
    neighbors:
      - 2a06:a005:2efa::1
    listen6: 2a06:a005:2ef7::1

  Edge01 FMT:
    template: core-wg
    description: Edge01 Router - Fremont, US
    asn: 202427
    neighbors:
      - 2a06:a005:2efb::1
    listen6: 2a06:a005:2ef7::1

  # ========= Route Servers =========
  Frys-IX Route Server:
    template: routeserver
    description: Frys-IX Route Server
    asn: 56393
    neighbors:
      - 2001:7f8:10f::dc49:253
      - 2001:7f8:10f::dc49:254
    local-pref: 220
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-FRYS-IX-CONNECTED

  InterIX Route Server:
    template: routeserver
    description: InterIX Route Server
    asn: 56584
    neighbors:
      - 2001:7f8:134::253
      - 2001:7f8:134::254
      - 2001:7f8:134::251
    local-pref: 220
    listen6: 2001:7f8:134::43
    add-on-import:
      - "202427:105:3990"
    as-set: AS56584:AS-INTERIX

  # ========= Peers - Frys-IX =========
  AS112 Frys-IX:
    template: peer
    description: AS112 via Frys-IX
    asn: 112
    neighbors:
      - 2001:7f8:10f::70:252
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS112

  Netwerkvereniging Coloclue Frys-IX:
    template: peer
    description: Netwerkvereniging Coloclue via Frys-IX
    asn: 8283
    neighbors:
      - 2001:7f8:10f::205b:140
      - 2001:7f8:10f::205b:187
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS8283:AS-COLOCLUE

  Cloudflare Frys-IX:
    template: peer
    description: Cloudflare via Frys-IX
    asn: 13335
    neighbors:
      - 2001:7f8:10f::3417:217
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-CLOUDFLARE

  Google Frys-IX:
    template: peer
    description: Google via Frys-IX
    asn: 15169
    neighbors:
      - 2001:7f8:10f::3b41:180
      - 2001:7f8:10f::3b41:220
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    password: ${edge01-ams-google-frysix-password}
    add-on-import:
      - "202427:105:3512"
    as-set: AS-GOOGLE

  ISC F-ROOT AMS1 Frys-IX:
    template: peer
    description: ISC F-ROOT AMS1 via Frys-IX
    asn: 30132
    neighbors:
      - 2001:7f8:10f::75b4:147
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RADB::AS30132:AS-SET

  Valve Frys-IX:
    template: peer
    description: Valve via Frys-IX
    asn: 32590
    neighbors:
      - 2001:7f8:10f::7f4e:199
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RADB::AS-VALVE

  Meta Frys-IX:
    template: peer
    description: Meta via Frys-IX
    asn: 32934
    neighbors:
      - 2001:7f8:10f::80a6:225
      - 2001:7f8:10f::80a6:226
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-FACEBOOK

  Serverion Frys-IX:
    template: peer
    description: Serverion via Frys-IX
    asn: 213035
    neighbors:
      - 2001:7f8:10f::3:402b:174
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-SERVERION

  AS212635 Frys-IX:
    template: peer
    description: AS212635 via Frys-IX
    asn: 212635
    neighbors:
      - 2001:7f8:10f::3:3e9b:134
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RIPE::AS212635:AS-212635

  LUJE.net Frys-IX:
    template: peer
    description: LUJE.net via Frys-IX
    asn: 212855
    neighbors:
      - 2001:7f8:10f::3:3f95:152
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RIPE::AS212855:AS-LUJE

  NetOne NL Frys-IX:
    template: peer
    description: NetOne NL via Frys-IX
    asn: 200132
    neighbors:
      - 2001:7f8:10f::3:dc4:239
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-NETONE-NL

  H2B IT Solutions Frys-IX:
    template: peer
    passive: true
    description: H2B IT Solutions via Frys-IX
    asn: 43414
    neighbors:
      - 2001:7f8:10f::a996:142
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: RIPE::AS43414:AS-H2B

  H4Hosting Frys-IX:
    template: peer
    passive: true
    description: H4Hosting via Frys-IX
    asn: 51050
    neighbors:
      - 2001:7f8:10f::c76a:173
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-H4HOSTING

  Solutions4XS Frys-IX:
    template: peer
    passive: true
    description: Solutions4XS via Frys-IX
    asn: 209288
    neighbors:
      - 2001:7f8:10f::3:3188:146
    local-pref: 320
    listen6: 2001:7f8:10f::3:16bb:205
    add-on-import:
      - "202427:105:3512"
    as-set: AS-SOL4XS

  # ========= Peers - InterIX =========
  Netwerkvereniging Coloclue InterIX:
    template: peer
    description: Netwerkvereniging Coloclue via InterIX
    asn: 8283
    neighbors:
      - 2001:7f8:134::16
    local-pref: 320
    listen6: 2001:7f8:134::43
    add-on-import:
      - "202427:105:3990"
    as-set: AS8283:AS-COLOCLUE

  Cloudflare InterIX:
    template: peer
    description: Cloudflare via InterIX
    asn: 13335
    neighbors:
      - 2001:7f8:134::40
    local-pref: 320
    listen6: 2001:7f8:134::43
    add-on-import:
      - "202427:105:3990"
    as-set: AS-CLOUDFLARE

  AS212635 InterIX:
    template: peer
    description: AS212635 via InterIX
    asn: 212635
    neighbors:
      - 2001:7f8:134::25
    local-pref: 320
    listen6: 2001:7f8:134::43
    add-on-import:
      - "202427:105:3990"
    as-set: RIPE::AS212635:AS-212635

  Solutions4XS InterIX:
    template: peer
    passive: true
    description: Solutions4XS via InterIX
    asn: 209288
    neighbors:
      - 2001:7f8:134::17
    local-pref: 320
    listen6: 2001:7f8:134::43
    add-on-import:
      - "202427:105:3990"
    as-set: AS-SOL4XS

templates:
  upstream:
    local-pref: 100
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,2));
     bgp_large_community.add((202427,104,<pathvector.asn>));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-max-prefix: false
    role: customer

  routeserver:
    local-pref: 200
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,3));
     bgp_large_community.add((202427,104,<pathvector.asn>));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    enforce-first-as: false
    enforce-peer-nexthop: false
    filter-max-prefix: false
    filter-transit-asns: true
#    filter-never-via-route-servers: true

  peer:
    local-pref: 300
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,4));
     bgp_large_community.add((202427,104,<pathvector.asn>));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-irr: true
    strict-rpki: true
    filter-transit-asns: true
    auto-import-limits: true
    role: peer

  downstream:
    local-pref: 400
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,5));
     bgp_large_community.add((202427,104,<pathvector.asn>));
    announce:
      - "202427:101:1"
      - "202427:101:2"
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-irr: true
    strict-rpki: true
    filter-transit-asns: true
    auto-import-limits: true
    role: provider

  lg:
    mp-unicast-46: true
    add-path-tx: true
    announce:
      - "202427:101:1"
      - "202427:101:2"
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    receive-limit4: 0
    receive-limit6: 0

  core-wg:
    prepends: 1
    local-pref: 180
    next-hop-self: true
    add-path-tx: true
    add-path-rx: true
    announce:
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    remove-communities:
      - "202427:104:1"
      - "202427:104:2"
      - "202427:104:3"
      - "202427:104:4"
      - "202427:104:5"
      - "202427:104:6"
      - "202427:104:7"
      - "202427:104:8"
      - "202427:104:9"
      - "202427:104:10"
      - "202427:104:11"
      - "202427:104:12"
      - "202427:104:13"
      - "202427:104:14"
      - "202427:104:15"
    allow-blackhole-community: true
    allow-local-as: true

  core-l2:
    local-pref: 190
    next-hop-self: true
    add-path-tx: true
    add-path-rx: true
    announce:
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    remove-communities:
      - "202427:104:1"
      - "202427:104:2"
      - "202427:104:3"
      - "202427:104:4"
      - "202427:104:5"
      - "202427:104:6"
      - "202427:104:7"
      - "202427:104:8"
      - "202427:104:9"
      - "202427:104:10"
      - "202427:104:11"
      - "202427:104:12"
      - "202427:104:13"
      - "202427:104:14"
      - "202427:104:15"
    enforce-first-as: false
    allow-blackhole-community: true
    allow-local-as: true
