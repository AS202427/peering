peeringdb-api-key: ${edge02-zhr-peeringdb-api-key}
log-file: /var/log/bird.log
local-communities:
  - "202427:101:1"
  - "202427:105:4"
add-on-import:
  - "202427:102:756"
  - "202427:103:4"
add-on-export:
  - "202427:104:4"
asn: 202427
prefixes:
  - 2a06:a005:28e0::/48 # AS202427-BACKBONE-NETWORK
  - 2a06:a005:28e4::/48 # AS202427-BACKBONE-NETWORK
  - 2a0a:6040:2700::/43 # CH-AS202427
  - 2a0a:6040:27e0::/43 # EU-AS202427
  - 2a0e:97c0:5b0::/44  # EU-AS202427-Securebit
 #- 2a07:54c2:b00b::/48 # ::/b00b collective
router-id: 193.148.250.168
source6: 2a06:a005:28e4::1
default-route: false
blackhole-bogon-asns: true

peers:
  # ========= Upstreams =========
  iFog:
    template: upstream
    description: iFog GmbH Upstream
    asn: 34927
    neighbors:
      - 2a0c:9a40:1050::1
    local-pref: 120
    listen6: 2a0c:9a40:1050::418
    add-on-import:
      - "202427:104:34927"

  Hurricane Electric CHIX-CH:
    template: upstream
    description: Hurricane Electric LLC Upstream via CHIX-CH
    asn: 6939
    neighbors:
      - 2001:7f8:cc:333::137
    local-pref: 130
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:6939"
      - "202427:105:2365"

  # ========= Looking Glasses =========
  pmacctd:
    template: lg
    description: pmacctd
    asn: 202427
    listen6: 127.0.0.1
    neighbors:
      - 127.0.0.2
    neighbor-port: 180

  qrator:
    template: lg
    description: Radar by Qrator
    asn: 197068
    neighbors:
      - 178.248.237.29
    multihop: true
    listen4: 193.148.250.168
    password: qrator

  bgpTools:
    template: lg
    description: BGP.Tools Route Collector
    asn: 212232
    neighbors:
      - 185.230.223.55
    multihop: true
    listen4: 193.148.250.168

#  HE Realtime:
#    template: lg
#    description: Hurricane Electric Route Collector
#    disabled: false
#    asn: 393338
#    neighbors:
#      - 2001:470:0:441::20
#    multihop: true
#    listen6: 2a06:a005:28e4::1

  # ========= Internal =========
  Core01 NUE:
    template: core
    description: Core01 Router - Nuremberg, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2ef1::1
    listen6: 2a06:a005:2ef4::1

  Edge01 FRA:
    template: core
    description: Edge01 Router - Frankfurt, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2902::1
    local-pref: 190
    listen6: 2a06:a005:2904::1

  Edge01 ZHR:
    template: core
    description: Edge01 Router - Zurich, Switzerland
    asn: 202427
    neighbors:
      - 2a06:a005:2ef3::1
    listen6: 2a06:a005:2ef4::1

  Edge01 MIL:
    template: core
    description: Edge01 Router - Milan, Italy
    asn: 202427
    neighbors:
      - 2a06:a005:2ef5::1
    listen6: 2a06:a005:2ef4::1

  Edge01 DUS:
    template: core
    description: Edge01 Router - Dusseldorf, Germany
    asn: 202427
    neighbors:
      - 2a06:a005:2ef6::1
    listen6: 2a06:a005:2ef4::1

  Edge01 AMS:
    template: core
    description: Edge01 Router - Amsterdam, Netherlands
    asn: 202427
    neighbors:
      - 2a06:a005:2907::1
    local-pref: 190
    listen6: 2a06:a005:2904::1

#  Edge01 OSL:
#    template: core
#    description: Edge01 Router - Oslo, Norway
#    disabled: true
#    asn: 202427
#    neighbors:
#      - 2a06:a005:2ef8::1
#    listen6: 2a06:a005:2ef4::1

  Edge01 YVR:
    template: core
    description: Edge01 Router - Vancouver, Canada
    asn: 202427
    neighbors:
      - 2a06:a005:2ef9::1
    listen6: 2a06:a005:2ef4::1

  Edge01 YTO:
    template: core
    description: Edge01 Router - Toronto, Canada
    asn: 202427
    neighbors:
      - 2a06:a005:2efa::1
    listen6: 2a06:a005:2ef4::1

  Edge01 FMT:
    template: core
    description: Edge01 Router - Fremont, US
    asn: 202427
    neighbors:
      - 2a06:a005:2efb::1
    listen6: 2a06:a005:2ef4::1

  # ========= Route Servers =========
  CHIX-CH Route Server:
    template: routeserver
    description: CHIX-CH Route Server
    asn: 212100
    neighbors:
      - 2001:7f8:cc:333::254
      - 2001:7f8:cc:333::253
    local-pref: 220
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:212100"
      - "202427:105:2365"

#  IXPcat VAD01 Route Server:
#    template: routeserver
#    description: IXPcat LI VAD Route Server
#    disabled: true
#    asn: 49459
#    neighbors:
#      - 2001:7f8:d0:4c49::c133:1
#    local-pref: 210
#    listen6: 2001:7f8:d0:4c49::3:16bb:1
#    add-on-import:
#      - "202427:104:49459"
#      - "202427:105:2728"
#    as-set: RIPE::AS-IXPS

#  IXPcat LON01 Route Server:
#    template: routeserver
#    description: IXPcat UK LON Route Server
#    disabled: true
#    asn: 49459
#    neighbors:
#      - 2001:7f8:d0:4742::c133:1
#    local-pref: 210
#    listen6: 2001:7f8:d0:4742::3:16bb:1
#    add-on-import:
#      - "202427:104:49459"
#      - "202427:105:2704"
#    as-set: RIPE::AS-IXPS

  BGP.Exchange Route Server:
    template: routeserver
    description: BGP.Exchange Zurich Route Server
    asn: 24381
    neighbors:
      -  2a0e:8f01:1000:25::1
    local-pref: 220
    listen6: 2a0e:8f01:1000:25::109
    add-on-import:
      - "202427:104:24381"
      - "202427:105:3830"

  # ========= Peers - CHIX-CH =========
  IPng CHIX-CH:
    template: peer
    description: IPng Networks GmbH via CHIX-CH
    asn: 8298
    neighbors:
      - 2001:7f8:cc:333::150
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:8298"
      - "202427:105:2365"
    as-set: AS8298:AS-IPNG

  SolNet CHIX-CH:
    template: peer
    description: BSE Software GmbH / SolNet via CHIX-CH
    asn: 9044
    neighbors:
      - 2001:7f8:cc:333::152
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:9044"
      - "202427:105:2365"

  Init7 CHIX-CH:
    template: peer
    description: Init7 via CHIX-CH
    asn: 13030
    neighbors:
      - 2001:7f8:cc:333::177
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:13030"
      - "202427:105:2365"

  Google CHIX-CH:
    template: peer
    description: Google via CHIX-CH
    asn: 15169
    neighbors:
      - 2001:7f8:cc:333::169
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    password: ${edge02-zhr-google-chix-password}
    add-on-import:
      - "202427:104:15169"
      - "202427:105:2365"
    as-set: AS-GOOGLE

  acdalis informatik CHIX-CH:
    template: peer
    description: acdalis informatik via CHIX-CH
    asn: 28859
    neighbors:
      - 2001:7f8:cc:333::144
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:28859"
      - "202427:105:2365"

  Sam Aschwanden CHIX-CH:
    template: peer
    description: Sam Aschwanden via CHIX-CH
    asn: 35202
    neighbors:
      - 2001:7f8:cc:333::143
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:35202"
      - "202427:105:2365"

  Stefan Dunkel CHIX-CH:
    template: peer
    description: Stefan Dunkel via CHIX-CH
    asn: 48646
    neighbors:
      - 2001:7f8:cc:333::140
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:48646"
      - "202427:105:2365"

  DATAWIRE AG CHIX-CH:
    template: peer
    description: DATAWIRE AG via CHIX-CH
    asn: 48971
    neighbors:
      - 2001:7f8:cc:333::131
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:48971"
      - "202427:105:2365"

  Raphael Peters CHIX-CH:
    template: peer
    description: Raphael Peters via CHIX-CH
    asn: 207968
    neighbors:
      - 2001:7f8:cc:333::157
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:207968"
      - "202427:105:2365"

  Andreas Fries CHIX-CH:
    template: peer
    description: Andreas Fries via CHIX-CH
    asn: 213126
    neighbors:
      - 2001:7f8:cc:333::148
    local-pref: 320
    listen6: 2001:7f8:cc:333::182
    add-on-import:
      - "202427:104:213126"
      - "202427:105:2365"

  # ========= Peers - SwissIX =========

templates:
  upstream:
    local-pref: 100
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,2));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-max-prefix: false
    auto-as-set: true
    role: customer

  routeserver:
    local-pref: 200
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,3));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    enforce-first-as: false
    enforce-peer-nexthop: false
    filter-max-prefix: false
    filter-transit-asns: true
#    filter-never-via-route-servers: true
    auto-as-set: true

  peer:
    local-pref: 300
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,4));
    announce:
      - "202427:101:1"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-irr: true
    strict-rpki: true
    filter-transit-asns: true
    auto-import-limits: true
    auto-as-set: true
    role: peer

  downstream:
    local-pref: 400
    add-path-tx: true
    add-path-rx: true
    pre-import-accept: >
     bgp_large_community.add((202427,101,5));
    announce:
      - "202427:101:1"
      - "202427:101:2"
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    remove-all-communities: 202427
    allow-blackhole-community: true
    filter-irr: true
    strict-rpki: true
    filter-transit-asns: true
    auto-import-limits: true
    auto-as-set: true
    role: provider

  lg:
    mp-unicast-46: true
    add-path-tx: true
    announce:
      - "202427:101:1"
      - "202427:101:2"
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    receive-limit4: 0
    receive-limit6: 0

  core:
    prepends: 1
    local-pref: 180
    next-hop-self: true
    add-path-tx: true
    add-path-rx: true
    announce:
      - "202427:101:3"
      - "202427:101:4"
      - "202427:101:5"
    allow-blackhole-community: true
    allow-local-as: true
